%!TEX root=../document.tex

\section{Angabe}
\includegraphics[scale=0.5]{images/angabe.png}

\section{Vorraussetzungen}
\subsection{Server starten}
\subsection{SSH - Verbindung}
\subsection{Postgres}
Datenbank, User erzeugen, Rechte verteilen \& Einloggen

\begin{lstlisting}
CREATE DATABASE verein;
CREATE USER manager WITH PASSWORD 'iderfrein';
GRANT ALL ON DATABASE verein TO manager;
\end{lstlisting}

Connection :
\begin{lstlisting}
psql -d verein -h localhost -U manager
\end{lstlisting}
\section{Aufgaben}

\subsection{CREATE-Befehle}
Schreiben Sie die nötigen CREATE-Befehle, um die vorgestellten Relationen mittels SQL zu realisieren.
Dabei sind folgende Punkte zu beachten:

\subsubsection{Die Datenbank soll keine NULL-Werte enthalten.}
Dies lässt sich umsetzen, indem man am Ende des Attributes ein 'NOT NULL' anfügt.\newline
Beispiel:
\lstinputlisting[language=SQL, firstline=16, lastline=22]{../../sql/create.sql}

\subsubsection{Realisieren Sie folgende Attribute mit fortlaufenden Nummern...}
...mit Hilfe von Sequences und Serial: "persnr" von Personen und ''sid'' von Standorten.
\begin{itemize}
\item Für das ''persnr'' - Attribut sollen nur gerade, 5-stellige Zahlen vergeben werden (d.h.: 10000, 10002, ..., 99998).\newline

Sequences kann man sich wie eine Zählervariable vorstellen, welche im Hintergrund mitläuft.
Erstellt wird unsere Sequence so :
\lstinputlisting[language=SQL, firstline=5, lastline=5]{../../sql/create.sql}

Die 5 Stellen erhalten wir, indem wir uns an der Option \textbf{START WITH} bedienen.\newline
Für die geraden Zahlen helfen wir uns mit einem Trick, in dem wir mit Hilfe von \textbf{INCREMET BY} immer um 2 erhöhen.\newline
=> da er nur immer um 2 erhöht, können nur gerade Zahlen kommen ! \newline

\item Für das ''sid''-Attribut sollen beliebige positive Zahlen (d.h. 1,2, ...) vergeben werden.\newline
Falls zwischen 2 Tabellen zyklische FOREIGN KEY Beziehungen herrschen,
dann sind diese FOREIGN KEYs auf eine Weise zu definieren, dass es möglich ist, immer weitere Datensätze mittels INSERT in diese Tabellen einzufügen.
\end{itemize}